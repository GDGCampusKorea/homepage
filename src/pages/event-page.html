<link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../../bower_components/app-route/app-route.html">

<link rel="import" href="../../bower_components/neon-animation/neon-animated-pages.html">

<link rel="import" href="../behaviors/page-behavior.html">
<link rel="import" href="../behaviors/cascaded-behavior.html">
<link rel="import" href="../behaviors/share-behavior.html">
<link rel="import" href="event-list.html">
<link rel="import" href="event-detail.html">


<dom-module id="event-page">

  <template>

    <app-route route="{{route}}"
               pattern="/:page"
               data="{{pageData}}"
               tail="{{subRoute}}"></app-route>

    <app-route route="{{subRoute}}"
               pattern="/:id"
               data="{{eventData}}"></app-route>


    <neon-animated-pages id="pages"
                         selected="{{pageData.page}}"
                         attr-for-selected="name"
                         selected-attribute="selected">

      <event-list id="eventList"
                 name=""
                 app="{{app}}"
                 events="[[events]]"></event-list>

      <event-detail name="detail"
                 app="{{app}}"
                 events="[[events]]"
                 event-id="[[eventData.id]]"></event-detail>

    </neon-animated-pages>

  </template>

  <script>
    (function () {
      'use strict';

      Polymer({

        is: 'event-page',

        behaviors: [
          HOVERBOARD.PageBehavior,
          HOVERBOARD.CascadedBehavior
        ],

        properties: {
          route: {
            type: Object
          },

          events: {
            type: Array
          }
        }

      });

    }());
  </script>

</dom-module>
